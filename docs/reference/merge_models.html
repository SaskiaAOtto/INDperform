<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Merging two model output tibbles. — merge_models • INDperform</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />
<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  
<meta property="og:title" content="Merging two model output tibbles. — merge_models" />

<meta property="og:description" content="The function appends the second model output tibble to the first
while keeping all variables from both tibbles." />

<meta property="og:image" content="/logo.png" />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">INDperform</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fa fa-file-code-o"></span>
     
    Datasets &amp; Functions
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fas fa fas fa-book"></span>
     
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="https://doi.org/10.1016/j.ecolind.2017.05.045">Quantitative framework for selecting and validating food web indicators</a>
    </li>
    <li>
      <a href="https://raw.githubusercontent.com/saskiaotto/cheatsheets/476bad4a8876939a7b3e1784a5bf61567ed4a715/Cheatsheet_INDperform_v0.1.0.pdf">Indperform cheatsheet</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">
    <span class="fa fa-newspaper-o"></span>
     
    News
  </a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/saskiaotto/INDperform">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../mailto:saskia.otto@uni-hamburg.de">
    <span class="fa fa-send"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Merging two model output tibbles.</h1>
    <small class="dont-index">Source: <a href='https://github.com/saskiaotto/INDperform/blob/master/R/merge_models.R'><code>R/merge_models.R</code></a></small>
    <div class="hidden name"><code>merge_models.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>The function appends the second model output tibble to the first
while keeping all variables from both tibbles.</p>
    
    </div>

    <pre class="usage"><span class='fu'>merge_models</span>(<span class='no'>mod_tbl1</span>, <span class='no'>mod_tbl2</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>mod_tbl1</th>
      <td><p>Model output tibble created e.g. with <code><a href='model_gam.html'>model_gam</a></code>.</p></td>
    </tr>
    <tr>
      <th>mod_tbl2</th>
      <td><p>Model output tibble created e.g. with <code><a href='select_model.html'>select_model</a></code>.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><code>merge_models</code> returns the same type as the input including all columns of
both tibbles.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p><code>merge_models</code> function applies internally the dplyr::bind_rows function so that columns
are matched by name, and any missing columns will be filled with NA. The function
has also some data validation incorporated to check for double entries.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Using some models of the Baltic Sea demo data:</span>
<span class='co'># Merging GAM and GAMM tibbles</span>
<span class='no'>test_ids</span> <span class='kw'>&lt;-</span> <span class='fl'>47</span>:<span class='fl'>50</span> <span class='co'># choose subset</span>
<span class='no'>gam_tbl</span> <span class='kw'>&lt;-</span> <span class='no'>model_gam_ex</span>[<span class='no'>test_ids</span>,]
<span class='no'>gamm_tbl</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='model_gamm.html'>model_gamm</a></span>(<span class='no'>ind_init_ex</span>[<span class='no'>test_ids</span>,], <span class='kw'>filter</span><span class='kw'>=</span> <span class='no'>gam_tbl</span>$<span class='no'>tac</span>)</div><div class='output co'>#&gt; <span class='message'>NOTE: For the following IND~pressure GAMMs fitting procedure failed:</span></div><div class='output co'>#&gt; <span style='color: #949494;'># A tibble: 1 x 6</span><span>
#&gt;      id ind   press model_type corrstruc error_message                          
#&gt;   </span><span style='color: #949494;font-style: italic;'>&lt;int&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>      </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>     </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>                                  
#&gt; </span><span style='color: #BCBCBC;'>1</span><span>    48 Sprat Fher  gamm       arma21    </span><span style='color: #949494;'>"</span><span>Error in lme.formula(y ~ X - 1, rando…</div><div class='input'><span class='no'>best_gamm</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='select_model.html'>select_model</a></span>(<span class='no'>gam_tbl</span>, <span class='no'>gamm_tbl</span>)
<span class='fu'>merge_models</span>(<span class='no'>gam_tbl</span>[<span class='no'>gam_tbl</span>$<span class='no'>tac</span> <span class='kw'>==</span> <span class='fl'>FALSE</span>,], <span class='no'>best_gamm</span>)</div><div class='output co'>#&gt; </span><span style='color: #949494;'># A tibble: 4 x 17</span><span>
#&gt;      id ind   press model_type corrstruc   aic   edf   p_val signif_code    r_sq
#&gt;   </span><span style='color: #949494;font-style: italic;'>&lt;int&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>      </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>     </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>   </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>         </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #BCBCBC;'>1</span><span>    47 Sprat Fspr… gamm       ar1        66.5 1.14  8.13</span><span style='color: #949494;'>e</span><span style='color: #BB0000;'>-1</span><span> </span><span style='color: #949494;'>"</span><span> </span><span style='color: #949494;'>"</span><span>         -</span><span style='color: #BB0000;'>0.070</span><span style='color: #BB0000;text-decoration: underline;'>2</span><span>
#&gt; </span><span style='color: #BCBCBC;'>2</span><span>    48 Sprat Fher  gamm       ar2        60.4 3.85  6.66</span><span style='color: #949494;'>e</span><span style='color: #BB0000;'>-5</span><span> ***          0.364 
#&gt; </span><span style='color: #BCBCBC;'>3</span><span>    49 Sprat Fcod  gamm       ar1        63.6 1.000 9.27</span><span style='color: #949494;'>e</span><span style='color: #BB0000;'>-2</span><span> .           -</span><span style='color: #BB0000;'>0.017</span><span style='color: #BB0000;text-decoration: underline;'>0</span><span>
#&gt; </span><span style='color: #BCBCBC;'>4</span><span>    50 Herr… Tsum  gam        none       24.6 1.    2.49</span><span style='color: #949494;'>e</span><span style='color: #BB0000;'>-1</span><span> </span><span style='color: #949494;'>"</span><span> </span><span style='color: #949494;'>"</span><span>          0.014</span><span style='text-decoration: underline;'>8</span><span>
#&gt; </span><span style='color: #949494;'># … with 7 more variables: expl_dev </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #949494;'>, nrmse </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #949494;'>, ks_test </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #949494;'>,
#&gt; #   tac </span><span style='color: #949494;font-style: italic;'>&lt;lgl&gt;</span><span style='color: #949494;'>, pres_outlier </span><span style='color: #949494;font-style: italic;'>&lt;list&gt;</span><span style='color: #949494;'>, excl_outlier </span><span style='color: #949494;font-style: italic;'>&lt;list&gt;</span><span style='color: #949494;'>, model </span><span style='color: #949494;font-style: italic;'>&lt;list&gt;</span><span></div><div class='input'>
<span class='co'># Merge 2 IND-specific GAM tibbles (where)</span>
<span class='no'>dat_init</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='ind_init.html'>ind_init</a></span>(
  <span class='kw'>ind_tbl</span> <span class='kw'>=</span> <span class='no'>ind_ex</span>[, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"TZA"</span>, <span class='st'>"Cod"</span>)],
  <span class='kw'>press_tbl</span> <span class='kw'>=</span> <span class='no'>press_ex</span>[, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"Tsum"</span>, <span class='st'>"Swin"</span>)],
  <span class='kw'>time</span> <span class='kw'>=</span> <span class='no'>ind_ex</span>[,<span class='fl'>1</span>])
<span class='no'>gam_tbl1</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='model_gam.html'>model_gam</a></span>(<span class='no'>dat_init</span>[<span class='fl'>1</span>:<span class='fl'>2</span>, ])
<span class='co'># treat a subset differently, e.g. when setting k</span>
<span class='no'>gam_tbl2</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='model_gam.html'>model_gam</a></span>(<span class='no'>dat_init</span>[<span class='fl'>3</span>:<span class='fl'>4</span>, ], <span class='kw'>k</span> <span class='kw'>=</span> <span class='fl'>3</span>)
<span class='fu'>merge_models</span>(<span class='no'>gam_tbl1</span>, <span class='no'>gam_tbl2</span>)</div><div class='output co'>#&gt; </span><span style='color: #949494;'># A tibble: 4 x 16</span><span>
#&gt;      id ind   press model_type corrstruc   aic   edf  p_val signif_code    r_sq
#&gt;   </span><span style='color: #949494;font-style: italic;'>&lt;int&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>      </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>     </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>  </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>         </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #BCBCBC;'>1</span><span>     1 TZA   Tsum  gam        none       49.8  1.92 0.146  </span><span style='color: #949494;'>"</span><span> </span><span style='color: #949494;'>"</span><span>          0.138 
#&gt; </span><span style='color: #BCBCBC;'>2</span><span>     2 TZA   Swin  gam        none       48.1  2.74 0.077</span><span style='text-decoration: underline;'>2</span><span> .            0.211 
#&gt; </span><span style='color: #BCBCBC;'>3</span><span>     3 Cod   Tsum  gam        none       68.4  1.   0.648  </span><span style='color: #949494;'>"</span><span> </span><span style='color: #949494;'>"</span><span>         -</span><span style='color: #BB0000;'>0.031</span><span style='color: #BB0000;text-decoration: underline;'>2</span><span>
#&gt; </span><span style='color: #BCBCBC;'>4</span><span>     4 Cod   Swin  gam        none       64.1  1.57 0.102  </span><span style='color: #949494;'>"</span><span> </span><span style='color: #949494;'>"</span><span>          0.139 
#&gt; </span><span style='color: #949494;'># … with 6 more variables: expl_dev </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #949494;'>, nrmse </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #949494;'>, ks_test </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #949494;'>,
#&gt; #   tac </span><span style='color: #949494;font-style: italic;'>&lt;lgl&gt;</span><span style='color: #949494;'>, pres_outlier </span><span style='color: #949494;font-style: italic;'>&lt;list&gt;</span><span style='color: #949494;'>, model </span><span style='color: #949494;font-style: italic;'>&lt;list&gt;</span><span></div></span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Saskia A. Otto, Rene Plonus, Steffen Funk, Alexander Keth.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.9100.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


